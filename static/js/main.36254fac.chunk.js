(this.webpackJsonpvodoprovod=this.webpackJsonpvodoprovod||[]).push([[0],{15:function(n,t,o){},16:function(n,t,o){},22:function(n,t,o){"use strict";o.r(t);var e=o(0),c=o.n(e),r=o(4),i=o.n(r),a=(o(15),o(16),o(6)),u=o.n(a),s=o(3),l=o(5),f=o(2);function d(n,t){return Array(t).fill("").map((function(){return Array(n).fill("").map((function(){return{type:j(0,2),position:j(0,3),active:!1}}))}))}var p=function(n){for(var t=Object(l.a)(y[n.type].flow),o=0;o<n.position;o++)t.unshift(t.pop());return t},b=function(n){(n=n.map((function(n){return n.map((function(n){return Object(f.a)(Object(f.a)({},n),{},{active:!1})}))})))[0][0].active=!0;var t=[[0,0]];return function o(e,c){var r=function(n,t){var o=[],e=function(t,o,e,c,r,i){return!(c<0||c>n[0].length-1||r<0||r>n.length-1)&&!!p(n[o][t])[e]&&!!p(n[r][c])[i]};return e(t.x,t.y,1,t.x+1,t.y,3)&&o.push([t.x+1,t.y]),e(t.x,t.y,3,t.x-1,t.y,1)&&o.push([t.x-1,t.y]),e(t.x,t.y,2,t.x,t.y+1,0)&&o.push([t.x,t.y+1]),e(t.x,t.y,0,t.x,t.y-1,2)&&o.push([t.x,t.y-1]),o}(n,{x:e,y:c});console.log("coords",r),r.length>0&&r.forEach((function(n){t.some((function(t){return t.join()===n.join()}))||(t.push(n),console.log("c",n,t),o(n[0],n[1]))}))}(0,0),console.log("allConnectedCoords",t),t.forEach((function(t){n[t[1]][t[0]].active=!0})),n},j=function(n,t){return Math.round(n-.5+Math.random()*(t-n+1))},v="board/GENERATE_BOARD",h="board/ROTATE_PIPE",y=[{positions:["\u2500","\u2502","\u2500","\u2502"],flow:[0,1,0,1]},{positions:["\u2524","\u2534","\u251c","\u252c"],flow:[1,0,1,1]},{positions:["\u2514","\u250c","\u2510","\u2518"],flow:[1,1,0,0]}],O={board:[[],[]],pipes:y},x=function(){return{type:v}},g=function(n,t){return{type:h,payload:{row:n,column:t}}},m=o(1),_=function(){var n=Object(s.c)((function(n){return n.boardReducer.board})),t=Object(s.c)((function(n){return n.boardReducer.pipes})),o=Object(s.b)();Object(e.useEffect)((function(){o(x())}),[o]);return Object(m.jsx)("div",{className:u.a.Blocks,children:n.length>5&&n.map((function(n,e){return Object(m.jsx)("div",{children:n.map((function(n,c){return Object(m.jsx)("span",{className:"".concat(u.a.Block," ").concat(n.active&&u.a.Active),onClick:function(){return function(n,t){o(g(n,t))}(e,c)},children:t[n.type].positions[n.position]},c)}))},e)}))})},B=o(10),w=Object(B.a)({boardReducer:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(f.a)(Object(f.a)({},n),{},{board:b(d(30,10))});case h:var o=t.payload,e=o.row,c=o.column,r=n.board.map((function(n){return Object(l.a)(n)})),i=(r[e][c].position+1)%4;return r[e][c].position=i,console.log(p(r[e][c])),Object(f.a)(Object(f.a)({},n),{},{board:b(r)});default:return n}}}),k=Object(B.b)(w);window.__store__=k;var A=k;var E=function(){return Object(m.jsx)(s.a,{store:A,children:Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(_,{})})})},C=function(n){n&&n instanceof Function&&o.e(3).then(o.bind(null,23)).then((function(t){var o=t.getCLS,e=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;o(n),e(n),c(n),r(n),i(n)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root")),C()},6:function(n,t,o){n.exports={Blocks:"Board_Blocks__3l33g",Block:"Board_Block__3SvZL",Active:"Board_Active__2KdTS"}}},[[22,1,2]]]);
//# sourceMappingURL=main.36254fac.chunk.js.map