(this.webpackJsonpvodoprovod=this.webpackJsonpvodoprovod||[]).push([[0],{15:function(n,t,o){},16:function(n,t,o){},22:function(n,t,o){"use strict";o.r(t);var e=o(0),c=o.n(e),i=o(4),r=o.n(i),a=(o(15),o(16),o(6)),u=o.n(a),s=o(3),l=o(5),d=o(2);function p(n,t){return Array(t).fill("").map((function(){return Array(n).fill("").map((function(){return{type:j(0,2),position:j(0,3),active:!1}}))}))}var f=function(n){for(var t=Object(l.a)(y[n.type].flow),o=0;o<n.position;o++)t.unshift(t.pop());return t},b=function(n){(n=n.map((function(n){return n.map((function(n){return Object(d.a)(Object(d.a)({},n),{},{active:!1})}))})))[0][0].active=!0;var t=[[0,0]];return function o(e,c){var i=function(n,t){var o=[],e=function(t,o,e,c,i,r){return!(c<0||c>n[0].length-1||i<0||i>n.length-1)&&!!f(n[o][t])[e]&&!!f(n[i][c])[r]};return e(t.x,t.y,1,t.x+1,t.y,3)&&o.push([t.x+1,t.y]),e(t.x,t.y,3,t.x-1,t.y,1)&&o.push([t.x-1,t.y]),e(t.x,t.y,2,t.x,t.y+1,0)&&o.push([t.x,t.y+1]),e(t.x,t.y,0,t.x,t.y-1,2)&&o.push([t.x,t.y-1]),o}(n,{x:e,y:c});console.log("coords",i),i.length>0&&i.forEach((function(n){t.some((function(t){return t.join()===n.join()}))||(t.push(n),console.log("c",n,t),o(n[0],n[1]))}))}(0,0),console.log("allConnectedCoords",t),t.forEach((function(t){n[t[1]][t[0]].active=!0})),n},j=function(n,t){return Math.round(n-.5+Math.random()*(t-n+1))},h="board/GENERATE_BOARD",v="board/ROTATE_PIPE",y=[{positions:["\u2500","\u2502","\u2500","\u2502"],flow:[0,1,0,1]},{positions:["\u2524","\u2534","\u251c","\u252c"],flow:[1,0,1,1]},{positions:["\u2514","\u250c","\u2510","\u2518"],flow:[1,1,0,0]}],x={board:[[],[]],pipes:y,isWin:!1},O=function(){return{type:h}},g=function(n,t){return{type:v,payload:{row:n,column:t}}},m=o(1),_=function(){var n=Object(s.c)((function(n){return n.boardReducer})),t=n.board,o=n.pipes,c=n.isWin,i=Object(s.b)();Object(e.useEffect)((function(){i(O())}),[i]);return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{style:{visibility:c?"visible":"hidden"},children:"\u041f\u043e\u0431\u0435\u0434\u0430!"}),Object(m.jsx)("div",{className:u.a.Blocks,children:t.length>5&&t.map((function(n,t){return Object(m.jsx)("div",{children:n.map((function(n,e){return Object(m.jsx)("span",{className:"".concat(u.a.Block," ").concat(n.active&&u.a.Active),onClick:function(){return function(n,t){i(g(n,t))}(t,e)},children:o[n.type].positions[n.position]},e)}))},t)}))}),Object(m.jsx)("button",{style:{marginTop:"20px"},onClick:function(){i(O())},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0434\u043e\u0441\u043a\u0443"})]})},B=o(10),w=Object(B.a)({boardReducer:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(d.a)(Object(d.a)({},n),{},{board:b(p(30,10)),isWin:!1});case v:var o=t.payload,e=o.row,c=o.column,i=n.board.map((function(n){return Object(l.a)(n)})),r=(i[e][c].position+1)%4;i[e][c].position=r;var a=(i=b(i))[i.length-1][i[0].length-1].active;return Object(d.a)(Object(d.a)({},n),{},{board:i,isWin:a});default:return n}}}),k=Object(B.b)(w);window.__store__=k;var A=k;var E=function(){return Object(m.jsx)(s.a,{store:A,children:Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(_,{})})})},C=function(n){n&&n instanceof Function&&o.e(3).then(o.bind(null,23)).then((function(t){var o=t.getCLS,e=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;o(n),e(n),c(n),i(n),r(n)}))};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root")),C()},6:function(n,t,o){n.exports={Blocks:"Board_Blocks__3l33g",Block:"Board_Block__3SvZL",Active:"Board_Active__2KdTS"}}},[[22,1,2]]]);
//# sourceMappingURL=main.7f127771.chunk.js.map